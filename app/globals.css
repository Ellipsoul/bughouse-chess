@config "../tailwind.config.js";
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

@layer base {
  /* Ensure all buttons show the pointer cursor by default */
  button {
    @apply cursor-pointer;
  }

  /* Preserve clear affordance for disabled buttons */
  button:disabled {
    @apply cursor-not-allowed;
  }
}

/* Promoted piece badge */
.bh-promoted-square {
  position: relative;
}

.bh-promoted-square::after {
  content: "1";
  position: absolute;
  inset: 50% auto auto 50%;
  transform: translate(-50%, -50%);
  width: 16px;
  height: 16px;
  border-radius: 9999px;
  display: grid;
  place-items: center;
  font-size: 10px;
  font-weight: 700;
  line-height: 1;
  pointer-events: none;
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.25);
}

.bh-promoted-square--white::after {
  background: #111827;
  color: #f9fafb;
  border: 1px solid #111827;
}

.bh-promoted-square--black::after {
  background: #f3f4f6;
  color: #111827;
  border: 1px solid #d1d5db;
}

/* Board square highlight when dragging reserve piece over it */
.bh-drop-hover-square {
  box-shadow: inset 0 0 0 3px rgba(56, 189, 248, 0.85); /* cyan-ish */
}

/* Legal-move highlights while dragging a piece on the board */
.bh-legal-source-square {
  box-shadow: inset 0 0 0 3px rgba(250, 204, 21, 0.55); /* pale gold */
}

.bh-legal-target-square {
  position: relative;
}

.bh-legal-target-square::before {
  content: "";
  position: absolute;
  inset: 50% auto auto 50%;
  transform: translate(-50%, -50%);
  width: 9px;
  height: 9px;
  border-radius: 9999px;
  background: rgba(250, 204, 21, 0.55);
  box-shadow: 0 0 0 2px rgba(17, 24, 39, 0.15);
  pointer-events: none;
}

/* Last-move highlight (persistent, even when not dragging) */
.bh-last-move-from-square {
  box-shadow: inset 0 0 0 2px rgba(14, 165, 233, 0.55); /* dark sky */
}

.bh-last-move-to-square {
  box-shadow: inset 0 0 0 2px rgba(14, 165, 233, 0.9); /* strong dark sky */
}

/* When a reserve piece is armed for placement, show pointer across squares */
.bh-drop-cursor-active [data-square] {
  cursor: pointer;
}

/* -------------------------------------------------------------------------- */
/* chessboard.js styling overrides                                             */
/* -------------------------------------------------------------------------- */
/**
 * chessboard.js renders the board with a hard-coded border via `.board-b72b1`.
 *
 * For our UI, we prefer borderless boards and a very subtle corner rounding.
 * `overflow: hidden` ensures the squares/pieces are clipped to the rounded corners.
 */
.board-b72b1 {
  border: 0 !important;
  border-radius: 2px;
  overflow: hidden;
}
